{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{489:function(e,a,t){\"use strict\";t.r(a);var n=t(50),s=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"demo-accelerate-machine-learning-training-with-fluid\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#demo-accelerate-machine-learning-training-with-fluid\"}},[e._v(\"#\")]),e._v(\" DEMO - Accelerate Machine Learning Training with Fluid\")]),e._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"http://tbm-auth.alicdn.com/e99361edd833010b/dSVC55aoHBRio4co9aD/NQYZru9jomF79n3wGnO_277528130570_hd_hq.mp4?auth_key=1627029244-0-0-bc968cd83a02fd05cc8eb0da76aafacf\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t(\"img\",{attrs:{src:\"https://fluid-imgs.oss-cn-shanghai.aliyuncs.com/public/imgs/machineLearning.png\",alt:\"machinelearning_demo\"}}),t(\"OutboundLink\")],1)]),e._v(\" \"),t(\"p\",[e._v(\"This article describes how to deploy \"),t(\"a\",{attrs:{href:\"http://www.image-net.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ImageNet\"),t(\"OutboundLink\")],1),e._v(\" dataset stored on \"),t(\"a\",{attrs:{href:\"https://cn.aliyun.com/product/oss\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Aliyun OSS\"),t(\"OutboundLink\")],1),e._v(\" to Kubernetes cluster with Fluid, and train a ResNet-50 model on this dataset using \"),t(\"a\",{attrs:{href:\"https://github.com/kubeflow/arena\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Arena\"),t(\"OutboundLink\")],1),e._v(\". In this article, we perform machine learning training on 4 nodes, each node with 8 GPU cards.\")]),e._v(\" \"),t(\"h2\",{attrs:{id:\"prerequisites\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#prerequisites\"}},[e._v(\"#\")]),e._v(\" Prerequisites\")]),e._v(\" \"),t(\"ul\",[t(\"li\",[t(\"a\",{attrs:{href:\"https://github.com/fluid-cloudnative/fluid\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Fluid\"),t(\"OutboundLink\")],1),e._v(\" (version >= 0.1.0)\")]),e._v(\" \"),t(\"li\",[t(\"a\",{attrs:{href:\"https://github.com/kubeflow/arena\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Arena\"),t(\"OutboundLink\")],1),e._v(\"（version >= 0.4.0）\")]),e._v(\" \"),t(\"li\",[t(\"a\",{attrs:{href:\"https://github.com/tensorflow/tensorflow\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"TensorFlow\"),t(\"OutboundLink\")],1),e._v(\" (version = 1.14)\")]),e._v(\" \"),t(\"li\",[t(\"a\",{attrs:{href:\"https://github.com/horovod/horovod\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Horovod\"),t(\"OutboundLink\")],1),e._v(\" (version=0.18.1)\")]),e._v(\" \"),t(\"li\",[t(\"a\",{attrs:{href:\"https://github.com/tensorflow/benchmarks/tree/cnn_tf_v1.14_compatible\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Benchmark\"),t(\"OutboundLink\")],1)])]),e._v(\" \"),t(\"blockquote\",[t(\"p\",[t(\"strong\",[e._v(\"NOTE\")]),e._v(\":\")]),e._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[e._v(\"The document requires Fluid installed on your Kubernetes cluster. Please refer to \"),t(\"RouterLink\",{attrs:{to:\"/guide/get_started.html\"}},[e._v(\"Fluid Installation Guide\")]),e._v(\" to finish installation before going to the next step.\")],1)]),e._v(\" \"),t(\"li\",[t(\"p\",[e._v(\"Arena is a CLI that is convenient for data scientists to run and monitor machine learning tasks. See \"),t(\"a\",{attrs:{href:\"https://github.com/kubeflow/arena/blob/master/docs/installation/index.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Arena Installation Tutorial\"),t(\"OutboundLink\")],1),e._v(\" for more information.\")])]),e._v(\" \"),t(\"li\",[t(\"p\",[e._v(\"This Demo uses Horovod + TensorFlow + Benchmark, they are all open source version.\")])])])]),e._v(\" \"),t(\"h2\",{attrs:{id:\"deploy-dataset-on-kubernetes-cluster-with-fluid\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deploy-dataset-on-kubernetes-cluster-with-fluid\"}},[e._v(\"#\")]),e._v(\" Deploy Dataset on Kubernetes Cluster with Fluid\")]),e._v(\" \"),t(\"h3\",{attrs:{id:\"create-dataset-and-runtime\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create-dataset-and-runtime\"}},[e._v(\"#\")]),e._v(\" Create Dataset and Runtime\")]),e._v(\" \"),t(\"p\",[e._v(\"The following \"),t(\"code\",[e._v(\"dataset.yaml\")]),e._v(\" file defined a \"),t(\"code\",[e._v(\"Dataset\")]),e._v(\" and \"),t(\"code\",[e._v(\"Runtime\")]),e._v(\"  separated by \"),t(\"code\",[e._v(\"---\")]),e._v(\".\")]),e._v(\" \"),t(\"p\",[e._v(\"The dataset is stored on \"),t(\"a\",{attrs:{href:\"https://cn.aliyun.com/product/oss\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Alibaba Cloud OSS\"),t(\"OutboundLink\")],1),e._v(\". To ensure that Alluxio can successfully mount the dataset, please make sure that configurations in the \"),t(\"code\",[e._v(\"dataset.yaml\")]),e._v(\" are correct set, including \"),t(\"code\",[e._v(\"mountPoint\")]),e._v(\", \"),t(\"code\",[e._v(\"fs.oss.accessKeyId\")]),e._v(\", \"),t(\"code\",[e._v(\"fs.oss.accessKeySecret\")]),e._v(\" and \"),t(\"code\",[e._v(\"fs.oss.endpoint\")]),e._v(\".\")]),e._v(\" \"),t(\"blockquote\",[t(\"p\",[e._v(\"See Alluxio's official document \"),t(\"a\",{attrs:{href:\"https://docs.alluxio.io/os/user/stable/en/ufs/OSS.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Aliyun Object Storage Service\"),t(\"OutboundLink\")],1),e._v(\" for more examples of using OSS in Alluxio.\")]),e._v(\" \"),t(\"p\",[e._v(\"If you'd like to prepare dataset by yourself， please download the dataset from \"),t(\"a\",{attrs:{href:\"http://image-net.org/download-images\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"http://image-net.org/download-images\"),t(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),t(\"p\",[e._v(\"If you'd like to download the imagenet dataset from us, please open an issue in Fluid community to ask for it.\")])]),e._v(\" \"),t(\"p\",[e._v(\"This document takes 4 machines to training machine learning tasks, so \"),t(\"code\",[e._v(\"spec.replicas\")]),e._v(\" is set to \"),t(\"code\",[e._v(\"4\")]),e._v(\". To ensure that the data is cached on the V100 machine, \"),t(\"code\",[e._v(\"nodeAffinity\")]),e._v(\" is configured. In addition, the following configuration file \"),t(\"code\",[e._v(\"dataset.yaml\")]),e._v(\" also sets many parameters based on our experience to optimize the IO performance of Alluxio in machine learning tasks, including Alluxio, Fuse and JVM levels. You can adjust these parameters according to the test environment and task requirements.\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"cat\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<<\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v(\"EOF\"),t(\"span\",{pre:!0,attrs:{class:\"token bash punctuation\"}},[e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">>\")]),e._v(\" dataset.yaml\")]),e._v('\\napiVersion: data.fluid.io/v1alpha1\\nkind: Dataset\\nmetadata:\\n  name: imagenet\\nspec:\\n  mounts:\\n  - mountPoint: oss://<OSS_BUCKET>/<OSS_DIRECTORY>/\\n    name: imagenet\\n    options:\\n      fs.oss.accessKeyId: <OSS_ACCESS_KEY_ID>\\n      fs.oss.accessKeySecret: <OSS_ACCESS_KEY_SECRET>\\n      fs.oss.endpoint: <OSS_ENDPOINT>\\n  nodeAffinity:\\n    required:\\n      nodeSelectorTerms:\\n        - matchExpressions:\\n            - key: aliyun.accelerator/nvidia_name\\n              operator: In\\n              values:\\n                - Tesla-V100-SXM2-16GB\\n---\\napiVersion: data.fluid.io/v1alpha1\\nkind: AlluxioRuntime\\nmetadata:\\n  name: imagenet\\nspec:\\n  replicas: 4\\n  data:\\n    replicas: 1\\n#  alluxioVersion:\\n#    image: registry.cn-huhehaote.aliyuncs.com/alluxio/alluxio\\n#    imageTag: \"2.3.0-SNAPSHOT-bbce37a\"\\n#    imagePullPolicy: Always\\n  tieredstore:\\n    levels:\\n      - mediumtype: SSD\\n        path: /var/lib/docker/alluxio\\n        quota: 50Gi\\n        high: \"0.99\"\\n        low: \"0.8\"\\nEOF')]),e._v(\"\\n\")])])]),t(\"p\",[e._v(\"Create Dataset and Alluxio Runtime with:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ kubectl create -f dataset.yaml\\n\")])])]),t(\"p\",[e._v(\"Check the status Alluxio Runtime, and  there should be \"),t(\"code\",[e._v(\"1\")]),e._v(\" Master，\"),t(\"code\",[e._v(\"4\")]),e._v(\" Worker and \"),t(\"code\",[e._v(\"4\")]),e._v(\" Fuse running:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ kubectl describe alluxioruntime imagenet \\nName:         imagenet\\nNamespace:    default\\nLabels:       \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<\")]),e._v(\"none\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">\")]),e._v(\"\\nAnnotations:  \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<\")]),e._v(\"none\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">\")]),e._v(\"\\nAPI Version:  data.fluid.io/v1alpha1\\nKind:         AlluxioRuntime\\nMetadata:\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"# more metadata\")]),e._v(\"\\nSpec:\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"# more spec\")]),e._v(\"\\nStatus:\\n  Cache States:\\n    Cache Capacity:     200GiB\\n    Cached:             0B\\n    Cached Percentage:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"0\")]),e._v(\"%\\n  Conditions:\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"# more conditions\")]),e._v(\"\\n  Current Fuse Number Scheduled:    \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\"\\n  Current Master Number Scheduled:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"1\")]),e._v(\"\\n  Current Worker Number Scheduled:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\"\\n  Desired Fuse Number Scheduled:    \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\"\\n  Desired Master Number Scheduled:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"1\")]),e._v(\"\\n  Desired Worker Number Scheduled:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\"\\n  Fuse Number Available:            \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\"\\n  Fuse Numb    Status:                True\\n    Type:                  Ready\\n  Phase:                   Bound\\n  Runtimes:\\n    Category:   Accelerate\\n    Name:       imagenet\\n    Namespace:  default\\n    Type:       alluxio\\n  Ufs Total:    \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"143\")]),e._v(\".7GiB\\nEvents:         \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<\")]),e._v(\"none\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">\")]),e._v(\"\\n\")])])]),t(\"p\",[e._v(\"At the same time, Dataset is bound to Alluxio Runtime:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ kubectl describe dataset\\nName:         imagenet\\nNamespace:    default\\nLabels:       \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<\")]),e._v(\"none\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">\")]),e._v(\"\\nAnnotations:  \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<\")]),e._v(\"none\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">\")]),e._v(\"\\nAPI Version:  data.fluid.io/v1alpha1\\nKind:         Dataset\\nMetadata:\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"# more metadata\")]),e._v(\"\\nSpec:\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"# more spec\")]),e._v(\"\\nStatus:\\n  Cache States:\\n    Cache Capacity:     200GiB\\n    Cached:             0B\\n    Cached Percentage:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"0\")]),e._v(\"%\\n  Conditions:\\n    Last Transition Time:  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"2020\")]),e._v(\"-08-18T11:01:09Z\\n    Last Update Time:      \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"2020\")]),e._v(\"-08-18T11:02:48Z\\n    Message:               The ddc runtime is ready.\\n    Reason:                DatasetReady\\n    Status:                True\\n    Type:                  Ready\\n  Phase:                   Bound\\n  Runtimes:\\n    Category:   Accelerate\\n    Name:       imagenet\\n    Namespace:  default\\n    Type:       alluxio\\n  Ufs Total:    \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"143\")]),e._v(\".7GiB\\nEvents:         \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"<\")]),e._v(\"none\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\">\")]),e._v(\"\\n\")])])]),t(\"p\",[e._v(\"A pv and pvc named \"),t(\"code\",[e._v(\"imagenet\")]),e._v(\" are successfully created. So far, the dataset stored on cloud has been successfully deployed to the Kubernetes cluster.\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ kubectl get pv,pvc\\nNAME                        CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM              STORAGECLASS   REASON   AGE\\npersistentvolume/imagenet   100Gi      RWX            Retain           Bound    default/imagenet                           7m11s\\n\\nNAME                             STATUS   VOLUME     CAPACITY   ACCESS MODES   STORAGECLASS   AGE\\npersistentvolumeclaim/imagenet   Bound    imagenet   100Gi      RWX                           7m11s\\n\")])])]),t(\"h2\",{attrs:{id:\"example-run-deep-learning-frameworks-using-arena\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#example-run-deep-learning-frameworks-using-arena\"}},[e._v(\"#\")]),e._v(\" Example: Run Deep Learning Frameworks Using Arena\")]),e._v(\" \"),t(\"p\",[t(\"code\",[e._v(\"Arena\")]),e._v(\" provides a convenient way to help users submit and monitor machine learning tasks. In this article, we use \"),t(\"code\",[e._v(\"Arena\")]),e._v(\" to simplify the deployment process of machine learning tasks.\")]),e._v(\" \"),t(\"p\",[e._v(\"If you have installed \"),t(\"code\",[e._v(\"Arena\")]),e._v(\" and dataset has been successfully deployed to the local cluster, you can start training a ResNet50 model by simply executing the following command:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"arena submit mpi \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    --name horovod-resnet50-v2-4x8-fluid \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    --gpus\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"8\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    --workers\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    --working-dir\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"/horovod-demo/tensorflow-demo/ \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    --data imagenet:/data \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    -e \"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[e._v(\"DATA_DIR\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"/data/imagenet \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    -e \"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[e._v(\"num_batch\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"1000\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    -e \"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[e._v(\"datasets_num_private_threads\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"8\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    --image\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"registry.cn-hangzhou.aliyuncs.com/tensorflow-samples/horovod-benchmark-dawnbench-v2:0.18.1-tf1.14.0-torch1.2.0-mxnet1.5.0-py3.6 \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"\\\\\")]),e._v(\"\\n    ./launch-example.sh \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),e._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"8\")]),e._v(\"\\n\")])])]),t(\"p\",[e._v(\"Notes：\")]),e._v(\" \"),t(\"ul\",[t(\"li\",[t(\"code\",[e._v(\"--name\")]),e._v(\"：specify the name of job, \"),t(\"code\",[e._v(\"horovod-resnet50-v2-4x8-fluid\")]),e._v(\" in this example\")]),e._v(\" \"),t(\"li\",[t(\"code\",[e._v(\"--workers\")]),e._v(\"：specify the number of nodes (workers) participating in training\")]),e._v(\" \"),t(\"li\",[t(\"code\",[e._v(\"--gpus\")]),e._v(\"：specify the number of GPUs used by each worker\")]),e._v(\" \"),t(\"li\",[t(\"code\",[e._v(\"--working-dir\")]),e._v(\"：specify working directory\")]),e._v(\" \"),t(\"li\",[t(\"code\",[e._v(\"--data\")]),e._v(\"：tell workers to mount a volume named \"),t(\"code\",[e._v(\"imagenet\")]),e._v(\" to the directory \"),t(\"code\",[e._v(\"/data\")])]),e._v(\" \"),t(\"li\",[t(\"code\",[e._v(\"-e DATA_DIR\")]),e._v(\"：specify the directory where dataset locates\")]),e._v(\" \"),t(\"li\",[t(\"code\",[e._v(\"./launch-example.sh 4 8\")]),e._v(\"：run shell script to launch training process\")])]),e._v(\" \"),t(\"p\",[e._v(\"Check whether the task is executed normally:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ arena get horovod-resnet50-v2-4x8-fluid -e\\nSTATUS: RUNNING\\nNAMESPACE: default\\nPRIORITY: N/A\\nTRAINING DURATION: 16s\\n\\nNAME                           STATUS   TRAINER  AGE  \"),t(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[e._v(\"INSTANCE\")]),e._v(\"                                      NODE\\nhorovod-resnet50-v2-4x8-fluid  RUNNING  MPIJOB   16s  horovod-resnet50-v2-4x8-fluid-launcher-czlfn  \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"192.168\")]),e._v(\".1.21\\nhorovod-resnet50-v2-4x8-fluid  RUNNING  MPIJOB   16s  horovod-resnet50-v2-4x8-fluid-worker-0        \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"192.168\")]),e._v(\".1.16\\nhorovod-resnet50-v2-4x8-fluid  RUNNING  MPIJOB   16s  horovod-resnet50-v2-4x8-fluid-worker-1        \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"192.168\")]),e._v(\".1.21\\nhorovod-resnet50-v2-4x8-fluid  RUNNING  MPIJOB   16s  horovod-resnet50-v2-4x8-fluid-worker-2        \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"192.168\")]),e._v(\".1.25\\nhorovod-resnet50-v2-4x8-fluid  RUNNING  MPIJOB   16s  horovod-resnet50-v2-4x8-fluid-worker-3        \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"192.168\")]),e._v(\".3.29\\n\")])])]),t(\"p\",[e._v(\"If you find that \"),t(\"code\",[e._v(\"4\")]),e._v(\" workers are in the \"),t(\"code\",[e._v(\"RUNNING\")]),e._v(\" state, congratulations!  It means that you have successfully started the training.\")]),e._v(\" \"),t(\"p\",[e._v(\"If you want to know where the training is going, please check the Arena log:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ arena logs --tail \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"100\")]),e._v(\" -f horovod-resnet50-v2-4x8-fluid\\n\")])])]),t(\"h2\",{attrs:{id:\"clean-up\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#clean-up\"}},[e._v(\"#\")]),e._v(\" Clean Up\")]),e._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[e._v(\"$ kubectl delete -f dataset.yaml\\n\")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);","extractedComments":[]}